from hummingbot.core.api_throttler.data_types import RateLimit

EXCHANGE_NAME = "my_jojo_perpetual"
BROKER_ID = "HBOT"
MAX_ORDER_ID_LEN = None

DOMAIN = "my_jojo_perpetual"
TESTNET_DOMAIN = "my_jojo_perpetual_testnet"

API_VERSION = "v1"

HEARTBEAT_TIME_INTERVAL = 15

# public http api
SERVER_TIME_PATH_URL = f"/{API_VERSION}/time"
EXCHANGE_INFO_URL = f"/{API_VERSION}/exchangeInfo"
ORDER_BOOK_URL = f"/{API_VERSION}/orderbook"
TRADES_URL = f"/{API_VERSION}/trades"
KLINES_URL = f"/{API_VERSION}/klines"
# MARK_PRICE_KLINES_URL = f"{API_VERSION}/markPriceKlines"
FUNDING_RATE_URL = f"/{API_VERSION}/fundingRate"
# private http api

# websocket api
# example: wss://stream.base-sepolia.jojo.exchange/v1/single/btcusdc@orderbook
WS_SINGLE_URL = f"/{API_VERSION}/single"
# example: wss://stream.base-sepolia.jojo.exchange/v1/multiple?streams=btcusdc@orderbook/btcusdc@trade
WS_COMBINED_URL = f"/{API_VERSION}/multiple"

PERPETUAL_BASE_URL = "https://api.base-mainnet.jojo.exchange"
TESTNET_BASE_URL = "https://api.base-sepolia.jojo.exchange"
PERPETUAL_WS_URL = "wss://stream.base-mainnet.jojo.exchange"
TESTNET_WS_URL = "wss://stream.base-sepolia.jojo.exchange"

RATE_LIMITS = [
    RateLimit(limit_id="COMMON", limit=2400, time_interval=60),
    RateLimit(limit_id="ORDER", limit=1200, time_interval=60),
]

if __name__ == "__main__":
    # from pprint import pprint
    # from urllib.parse import urljoin
    #
    # import requests
    #
    # url = urljoin(PERPETUAL_BASE_URL, EXCHANGE_INFO_URL)
    # response = requests.get(url)
    # print(response.status_code)
    # pprint(response.json()["markets"][0])

    import asyncio
    import json

    import websockets

    async def run_websocket():
        uri = "wss://stream.base-mainnet.jojo.exchange/v1/multiple"
        payload = {
            "id": 1,
            "method": "SUBSCRIBE",
            "params": [
                "btcusdc@orderbook",
                "btcusdc@market",
                "ethusdc@orderbook",
            ],
        }

        async with websockets.connect(uri) as websocket:
            # 发送payload
            await websocket.send(json.dumps(payload))
            print(f"Sent: {payload}")

            # 接收数据
            while True:
                response = await websocket.recv()
                print(f"Received: {response}")

    # 运行异步函数
    asyncio.get_event_loop().run_until_complete(run_websocket())
    """
    Sent: {'id': 1, 'method': 'SUBSCRIBE', 'params': ['btcusdc@orderbook', 'btcusdc@market', 'ethusdc@orderbook']}
    Received: {"result":null,"id":1}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"snapshot","sequence":176445608,"bids":[["3428.85","23.826"],["3428.83","21.8321"],["3428.77","24.1762"],["3428.7","24.5315"],["3428.65","22.4786"],["3428.61","24.8921"],["3428.59","24.8922"],["3428.57","22.8091"],["3428.51","18.2295"],["3428.49","18.2296"],["3428.48","1.31"],["3428.4","23.4846"],["3428.31","23.8297"],["3428.29","18.2307"],["3428.23","24.18"],["3428.22","22.8114"],["3428.2","18.2312"],["3428.14","24.5354"],["3428.13","23.1467"],["3428.05","24.8961"],["3427.96","23.8322"],["3427.89","24.8973"],["3427.88","24.1825"],["3427.75","18.2336"],["3427.72","18.2337"],["3427.68","18.2339"],["3427.58","18.2344"],["3427.48","18.235"],["3427.44","18.2352"],["3427.38","18.2355"],["3427.37","18.2355"],["3427.27","18.2361"],["3426.96","18.2377"],["3426.92","18.2379"],["3426.86","18.2383"],["3414.44","0.02"],["3403.33","0.02"],["3393.03","86.6481"],["3392.22","0.02"],["3392.08","86.6725"],["3391.91","86.6768"],["3391.73","86.6814"],["3381.11","0.02"],["3359.44","87.5146"],["3326.18","88.3897"],["3313.12","88.7381"],["3292.85","89.2842"],["3289.03","89.3881"],["3270","0.036697"],["3262.04","0.020321"],["3259.56","90.1961"],["3227.45","91.0935"],["3224.52","0.020321"],["3196.4","91.9785"],["3195.47","92.0052"],["3187.44","0.020321"],["3163.86","92.9244"],["3163.7","92.9291"],["3150.78","0.020321"],["3114.54","0.020321"],["3078.72","0.020321"],["3070.5","95.7498"],["3043.31","0.020321"],["3008.31","0.020321"],["2980.51","98.641"],["2979.54","98.6729"],["2973.71","0.020321"],["2939.5","0.020321"],["2921.48","100.6339"],["2905.7","0.020321"],["2872.28","0.020321"],["2839.24","0.020321"],["2808.57","104.6797"],["2808.23","104.6922"],["2807.78","104.7092"],["2807.75","104.7101"],["2806.59","0.020321"],["2774.31","0.020321"],["2742.4","0.020321"],["2710.86","0.020321"],["2679.68","0.020321"],["2648.86","0.020321"],["2618.39","0.020321"],["2588.28","0.020321"],["2558.51","0.020321"],["2529.08","0.020321"],["2500","0.020321"]],"asks":[["4188.71","70.1887"],["4026.41","73.018"],["4023.97","73.0622"],["3946.6","74.4945"],["3942.35","74.5748"],["3906.9","75.2516"],["3717.28","79.09"],["3681.52","79.8584"],["3680.3","79.8849"],["3608.98","81.4635"],["3607.96","81.4864"],["3607.78","81.4905"],["3573.25","82.2781"],["3536.51","83.1328"],["3481.1","0.02"],["3469.99","0.02"],["3467.73","84.7817"],["3458.88","0.02"],["3447.77","0.02"],["3436.66","0.02"],["3433.82","18.2013"],["3433.4","18.2035"],["3433.3","18.2041"],["3433.21","18.2046"],["3433","18.2057"],["3432.9","18.2062"],["3432.88","18.2063"],["3432.8","18.2067"],["3432.79","18.2067"],["3432.48","18.2084"],["3432.28","18.2095"],["3432.21","18.2098"],["3432.18","18.21"],["3432.16","18.2101"],["3432.07","18.2106"],["3432.06","18.2106"],["3431.97","18.2111"],["3431.96","18.2112"],["3431.9","18.2115"],["3431.87","18.2117"],["3431.85","18.2117"],["3431.77","18.2122"],["3431.75","18.2123"],["3431.65","18.2128"],["3431.62","18.213"],["3431.59","18.2131"],["3431.54","18.2134"],["3431.51","23.8076"],["3431.34","24.8723"],["3431.25","24.5132"],["3431.17","24.1593"],["3431.16","22.4622"],["3431.11","18.2157"],["3431.1","23.8104"],["3431.08","23.8105"],["3431.07","18.2159"],["3431.01","23.4666"],["3430.99","21.8183"],["3430.96","18.2165"],["3430.92","23.1279"],["3430.91","23.128"],["3430.86","18.217"],["3430.84","22.794"],["3430.82","22.7941"],["3430.75","22.4649"],["3430.71","24.517"],["3430.67","22.1406"],["3430.63","24.1631"],["3430.58","21.8209"],["3430.57","21.821"],["3430.54","23.8143"],["3430.5","20.4052"],["3430.46","23.4704"],["3430.37","23.1316"],["3430.28","22.7977"],["3430.2","22.4685"],["3430.11","22.1441"],["3430.03","21.8244"],["3429.94","20.4085"]]}}
    Received: {"data":{"event":"snapshot","sequence":165851953,"bids":[["63897.91","0.9781"],["63895.99","0.9782"],["63894.08","0.9782"],["63893.86","1.0956"],["63892.26","1.1716"],["63891.56","1.0956"],["63891.15","0.9782"],["63890.67","1.1889"],["63889.96","1.1717"],["63889.23","0.9783"],["63889.07","1.2063"],["63888.37","1.1889"],["63887.47","1.2241"],["63887.32","0.9783"],["63886.77","1.2064"],["63886.73","0.9783"],["63886.47","1.2241"],["63885.87","1.2421"],["63885.17","1.2241"],["63884.87","1.2421"],["63884.28","1.2603"],["63883.57","1.2421"],["63881.98","1.2604"],["63881.68","1.2789"],["63880.38","1.2789"],["63880.08","1.2977"],["63879.49","1.3167"],["63878.78","1.2977"],["63876.89","1.3361"],["63874.97","0.9785"],["63874.06","0.9785"],["63873.06","0.9785"],["63872.14","0.9785"],["63871.14","0.9785"],["63869.22","0.9786"],["63868.31","0.9786"],["63867.31","0.9786"],["63866.01","0.9786"],["63865.39","0.9786"],["63863.48","0.9787"],["63861.56","0.9787"],["63860.26","0.9787"],["63855.81","0.9788"],["63853.9","0.9788"],["63852.98","0.9788"],["63847.24","0.9789"],["63844.32","0.9789"],["63842.41","0.979"],["63841.49","0.979"],["63841.11","0.979"],["63840.49","0.979"],["63838.57","0.979"],["63818.85","0.9793"],["63812.31","0.9794"],["63750","0.000661"],["63600","0.0008"],["63571.42","0.003761"],["63543.67","0.002603"],["63542.85","0.001153"],["63500","0.001089"],["63421.23","0.000405"],["63333.33","0.0004"],["63314.28","0.003761"],["63300","0.0004"],["63292.7","0.002603"],["63257.5","0.000974"],["63254.21","4.6479"],["63250","0.000661"],["63206.53","4.6514"],["63200","0.001153"],["63100.71","0.000405"],["63066.66","0.0004"],["63057.14","0.003761"],["63041.74","0.002603"],["63000","0.001489"],["62857.14","0.001153"],["62800","0.0004"],["62799.99","0.003761"],["62790.77","0.002603"],["62780.19","0.000405"],["62778.75","0.000974"],["62750","0.000661"],["62700","0.0004"],["62542.85","0.003761"],["62539.81","0.002603"],["62533.33","0.0004"],["62514.28","0.001153"],["62500","0.001089"],["62459.66","0.000405"],["62450","0.040832"],["62400","0.0004"],["62300","0.000974"],["62288.84","0.002603"],["62285.71","0.003761"],["62266.66","0.0004"],["62250","0.000661"],["62171.42","0.001153"],["62139.14","0.000405"],["62100","0.0004"],["62028.57","0.003761"],["62000","0.001489"],["61961.15","4.7449"],["61828.57","0.001153"],["61818.61","0.000405"],["61800","0.0004"],["61771.42","0.003761"],["61750","0.000661"],["61514.28","0.003761"],["61500","0.001489"],["61498.09","0.000405"],["61485.71","0.001153"],["61257.14","0.003761"],["61250","0.000661"],["61200","0.002042"],["61177.56","0.000405"],["61142.85","0.001153"],["61000","0.002731"],["60999.99","0.003761"],["60900","0.0004"],["60857.04","0.000405"],["60800","0.002795"],["60750","0.000661"],["60742.85","0.003761"],["60600","0.002042"],["60536.51","0.000405"],["60500","0.001089"],["60485.71","0.003761"],["60457.14","0.001153"],["60400","0.001642"],["60300","0.0004"],["60228.57","0.003761"],["60215.99","0.000405"],["60139.89","4.8886"],["60114.28","0.001153"],["60000","0.04166"],["59971.42","0.003761"],["59895.46","0.000405"],["59771.42","0.001153"],["59714.28","0.003761"],["59700","0.0004"],["59574.94","0.000405"],["59500","0.000428"],["59457.14","0.003761"],["59428.57","0.001153"],["59400","0.0004"],["59254.41","0.000405"],["59199.99","0.003761"],["59100","0.0004"],["59085.71","0.001153"],["59000","0.000428"],["58954.01","4.9869"],["58942.85","0.003761"],["58933.89","0.000405"],["58800","0.0004"],["58742.85","0.001153"],["58685.71","0.003761"],["58613.37","0.000405"],["58500","0.000828"],["58428.57","0.003761"],["58400","0.001153"],["58292.84","0.000405"],["58200","0.0004"],["58171.42","0.003761"],["58057.14","0.001153"],["58000","0.000428"],["57972.32","0.000405"],["57914.28","0.003761"],["57900","0.0004"],["57836.01","5.0833"],["57792.42","5.0872"],["57714.28","0.001153"],["57657.14","0.003761"],["57651.79","0.000405"],["57600","0.0004"],["57500","0.000428"],["57399.99","0.003761"],["57371.42","0.001153"],["57331.27","0.000405"],["57300","0.0004"],["57142.85","0.003761"],["57028.57","0.001153"],["57010.74","0.000405"],["57000","0.000828"],["56885.71","0.003761"],["56700","0.0004"],["56690.22","0.000405"],["56685.71","0.001153"],["56654.61","5.1893"],["56628.57","0.003761"],["56500","0.000428"],["56400","0.0004"],["56371.42","0.003761"],["56369.69","0.000405"],["56342.85","0.001153"],["56114.28","0.003761"],["56100","0.0004"],["56049.17","0.000405"],["56000","0.001581"],["55857.14","0.003761"],["55800","0.0004"]],"asks":[["73527.36","3.9985"],["73500","0.0004"],["73357.5","0.000405"],["73200","0.0004"],["73036.97","0.000405"],["72900","0.0004"],["72799.39","4.0385"],["72716.45","0.000405"],["72600","0.0004"],["72395.92","0.000405"],["72300","0.0004"],["72079.76","4.0788"],["72078.63","4.0789"],["72075.4","0.000405"],["72000","0.0004"],["71754.87","0.000405"],["71700","0.0004"],["71434.35","0.000405"],["71400","0.0004"],["71113.82","0.000405"],["71100","0.0004"],["70800","0.0004"],["70793.3","0.000405"],["70658.44","4.1609"],["70657.01","4.1609"],["70500","0.0004"],["70472.78","0.000405"],["70200","0.0004"],["70152.25","0.000405"],["70000","0.000428"],["69999.99","0.003761"],["69958.88","4.2025"],["69900","0.0004"],["69831.73","0.000405"],["69777","0.429941"],["69742.85","0.003761"],["69600","0.0004"],["69511.2","0.000405"],["69500","0.000428"],["69485.71","0.003761"],["69318.49","4.2413"],["69300","0.0004"],["69266.24","4.2445"],["69228.57","0.003761"],["69190.68","0.000405"],["69000","0.000828"],["68971.42","0.003761"],["68870.15","0.000405"],["68714.28","0.003761"],["68700","0.0004"],["68633.91","4.2836"],["68549.63","0.000405"],["68500","0.000428"],["68457.14","0.003761"],["68400","0.0004"],["68229.1","0.000405"],["68199.99","0.003761"],["68100","0.0004"],["68000","0.001581"],["67942.85","0.003761"],["67908.58","0.000405"],["67902.53","4.3297"],["67901.47","4.3298"],["67800","0.0004"],["67685.71","0.003761"],["67657.14","0.001153"],["67588.05","0.000405"],["67500","0.000828"],["67428.57","0.003761"],["67314.28","0.001153"],["67267.53","0.000405"],["67200","0.0004"],["67171.42","0.003761"],["67000","0.000428"],["66971.42","0.001153"],["66947","0.000405"],["66914.28","0.003761"],["66900","0.0004"],["66657.14","0.003761"],["66628.57","0.001153"],["66626.48","0.000405"],["66600","0.0004"],["66563.58","4.4168"],["66500","0.000428"],["66399.99","0.003761"],["66305.96","0.000405"],["66300","0.0004"],["66285.71","0.001153"],["66142.85","0.003761"],["66130","0.000974"],["66000","0.002732"],["65985.43","0.000405"],["65955.92","4.4575"],["65942.85","0.001153"],["65885.71","0.003761"],["65846.15","0.000443"],["65750","0.000661"],["65733.33","0.0004"],["65714.28","0.0004"],["65700","0.0004"],["65692.3","0.000443"],["65664.91","0.000405"],["65651.25","0.000974"],["65628.57","0.003761"],["65600","0.001153"],["65551.39","0.002603"],["65538.46","0.000443"],["65500","0.001089"],["65466.66","0.0004"],["65428.57","0.0004"],["65400","0.0004"],["65384.61","0.000443"],["65371.42","0.003761"],["65344.38","0.000405"],["65300.43","0.002603"],["65257.14","0.001153"],["65252.06","4.5056"],["65250","0.000661"],["65230.76","0.000443"],["65200","0.0004"],["65172.5","0.000974"],["65142.85","0.0004"],["65114.28","0.003761"],["65100","0.1004"],["65076.92","0.000443"],["65049.46","0.002603"],["65023.86","0.000405"],["65000","0.001089"],["64933.33","0.0004"],["64923.07","0.000443"],["64914.28","0.001153"],["64857.14","0.004161"],["64800","0.0004"],["64798.5","0.002603"],["64769.23","0.000443"],["64750","0.000661"],["64703.33","0.000405"],["64693.75","0.000974"],["64666.66","0.0004"],["64615.38","0.000443"],["64599.99","0.003761"],["64571.42","0.001553"],["64547.53","0.002603"],["64500","0.001489"],["64461.53","0.000443"],["64400","0.0004"],["64382.81","0.000405"],["64342.85","0.003761"],["64307.69","0.000443"],["64296.57","0.002603"],["64285.71","0.0004"],["64250","0.000661"],["64228.57","0.001153"],["64215","0.000974"],["64200","0.0004"],["64153.84","0.000443"],["64133.33","0.0004"],["64085.71","0.003761"],["64062.28","0.000405"],["64045.6","0.002603"],["64010.79","0.9764"],["64000.87","0.9765"],["63998.95","0.9766"],["63997.03","0.9766"],["63995.11","0.9766"],["63993.51","0.9767"],["63991.59","0.9767"],["63989.67","0.9767"],["63987.75","0.9767"],["63985.83","0.9768"],["63983.91","0.9768"],["63982.58","0.9768"],["63980.07","0.9769"],["63978.15","0.9769"],["63976.23","1.334"],["63974.63","1.2957"],["63973.04","1.277"],["63973.03","1.2958"],["63971.44","1.2586"],["63971.06","0.977"],["63969.84","1.2404"],["63968.24","1.2225"],["63966.64","1.2049"],["63965.04","1.1875"],["63963.44","1.1703"],["63961.84","1.0944"],["63961.62","0.9771"],["63960.62","0.9772"],["63960.24","1.0944"],["63959.55","0.9772"],["63957.63","0.9772"],["63948.19","0.9774"],["63942.44","0.9774"],["63929.01","1.335"],["63927.41","1.3157"],["63925.82","1.2967"],["63924.22","1.278"],["63922.62","1.2596"],["63921.02","1.2414"],["63919.42","1.2235"]]},"stream":"btcusdc@orderbook"}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63933.32516509","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63975.45818013","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"359.875166","24hQuoteVolume":"23224862.2791608","openInterest":"17.9197695","price24HAgo":"64928.02","lastTradePrice":"63910.73"}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165851954,"endSequence":165851988,"bids":[["63908.66","1.0953"],["63907.06","1.1714"],["63905.46","1.1886"],["63903.87","1.2061"],["63902.27","1.2238"],["63900.67","1.2418"],["63899.07","1.26"],["63897.48","1.2785"],["63879.27","0.9784"],["63876.89","0"],["63874.97","0"],["63869.69","0.9786"],["63862.02","0.9787"],["63840.49","0"],["63222.16","4.6503"],["56371.42","0"],["56369.69","0"],["56342.85","0"],["56114.28","0"],["56100","0"],["56049.17","0"],["56000","0"],["55857.14","0"],["55800","0"]],"asks":[["73527.36","0"],["73500","0"],["73357.5","0"],["73200","0"],["73036.97","0"],["72900","0"],["72799.39","0"],["72716.45","0"],["72600","0"],["72395.92","0"],["72300","0"],["72079.76","0"],["63951.49","0.9773"],["63949.57","0.9773"],["63947.66","0.9774"],["63945.74","0.9774"],["63943.82","1.3347"],["63942.22","1.3154"],["63940.62","1.2964"],["63939.02","1.2777"],["63937.42","1.2593"],["63935.83","1.2411"],["63934.23","1.2232"],["63932.63","1.2055"],["63931.03","1.1881"],["63929.43","1.171"],["63927.83","1.095"],["63922.62","0"],["63921.02","0"],["63919.42","0"]]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445609,"endSequence":176445658,"bids":[["3429.45","20.4114"],["3429.37","21.8287"],["3429.28","22.1495"],["3429.19","22.4751"],["3429.11","22.8055"],["3429.02","23.1407"],["3428.77","0"],["3428.48","0"],["3428.4","18.2301"],["3428.22","0"],["3428.13","0"],["3428.08","18.2318"],["3427.96","0"],["3427.88","0"],["3427.77","18.2334"],["3427.36","18.2356"],["3426.64","18.2394"],["3426.54","18.24"],["3391.91","0"],["3292.84","89.2846"],["3259.56","0"],["3163.86","0"],["3010.78","97.649"],["2980.51","0"],["2951.46","99.6117"],["2836.3","103.6562"],["2807.78","0"]],"asks":[["3792.6","77.5195"],["3717.28","0"],["3680.3","0"],["3607.78","0"],["3537.43","83.1112"],["3432.99","18.2057"],["3432.78","18.2068"],["3432.68","18.2074"],["3432.57","18.2079"],["3432.47","18.2085"],["3432.37","18.209"],["3432.27","18.2095"],["3431.9","0"],["3431.44","18.2139"],["3431","23.4668"],["3430.74","22.465"],["3430.65","22.1407"],["3430.48","20.4053"],["3430.28","0"],["3430.2","0"],["3430.11","0"],["3430.03","0"],["3429.94","0"]]}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165851989,"endSequence":165852006,"bids":[["63886.47","0"],["63884.87","0"],["63881.68","0"],["63880.08","0"],["63871.14","0"],["63869.22","0"],["63867.31","0"],["63865.39","0"],["63863.48","0"],["63855.81","0"],["63844.32","0"],["63818.85","0"],["63812.31","0"],["56371.42","0.003761"],["56369.69","0.000405"],["56342.85","0.001153"],["56114.28","0.003761"],["56100","0.0004"],["56049.17","0.000405"],["56000","0.001581"],["55857.14","0.003761"],["55800","0.0004"],["55728.64","0.000405"],["55599.99","0.003761"],["55537.45","5.2937"],["55500","0.000828"]],"asks":[["72600","0.0004"],["72395.92","0.000405"],["72300","0.0004"],["72079.76","4.0788"],["72078.63","0"],["70658.44","0"],["69958.88","0"],["67901.47","0"]]}}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63941.47758117","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63953.48305016","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"360.063166","24hQuoteVolume":"23236878.6902008","openInterest":"17.9197695","price24HAgo":"64928.02","lastTradePrice":"63917.08"}}
    Received: {"data":{"event":"update","beginSequence":165852007,"endSequence":165852038,"bids":[["63895.88","1.2973"],["63894.28","1.3164"],["63892.68","1.3358"],["63890.77","0.9782"],["63888.85","0.9783"],["63886.93","0.9783"],["63885.02","0.9783"],["63883.1","0.9783"],["63877.35","0.9784"],["60755.33","4.8391"],["60153.81","4.8875"],["58968.59","4.9857"],["56369.69","0"],["56342.85","0"],["56114.28","0"],["56100","0"],["56049.17","0"],["56000","0"],["55857.14","0"],["55800","0"],["55728.64","0"],["55599.99","0"],["55537.45","0"],["55500","0"]],"asks":[["72600","0"],["72395.92","0"],["72300","0"],["72079.76","0"],["72075.4","0"],["72000","0"],["71754.87","0"],["71700","0"],["71434.35","0"],["71400","0"],["69976.18","4.2014"],["64622","4.5495"],["63980.28","0.9769"],["63974.52","0.977"],["63972.6","0.977"],["63966.84","0.9771"],["63964.92","0.9771"],["63963","0.9771"],["63961.09","0.9772"],["63959.17","0.9772"],["63957.25","0.9772"],["63955.33","0.9772"],["63953.41","0.9773"],["63927.41","0"],["63925.82","0"],["63924.22","0"]]},"stream":"btcusdc@orderbook"}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445659,"endSequence":176445666,"bids":[["3429.67","20.4101"],["3429.59","43.6546"],["3429.5","44.2962"]],"asks":[["3430.79","21.8196"],["3430.7","20.404"],["3430.37","0"]]}}
    Received: {"data":{"event":"update","beginSequence":165852039,"endSequence":165852057,"bids":[["63873.06","0"],["63861.56","0"],["63853.9","0"],["63842.41","0"],["63838.57","0"],["63206.53","0"],["57792.42","0"],["56369.69","0.000405"],["56342.85","0.001153"],["56114.28","0.003761"],["56100","0.0004"],["56049.17","0.000405"],["56000","0.001581"],["55857.14","0.003761"]],"asks":[["72075.4","0.000405"],["72000","0.0004"],["71754.87","0.000405"],["71700","0.0004"],["71434.35","0.000405"],["71400","0.0004"],["69266.24","0"],["66563.58","0"],["65252.06","0"],["63971.06","0"],["63959.55","0"],["63957.63","0"]]},"stream":"btcusdc@orderbook"}
    Received: {"data":{"event":"update","beginSequence":176445667,"endSequence":176445756,"bids":[["3429.41","22.4737"],["3429.33","22.804"],["3429.24","23.1392"],["3429.16","23.4793"],["3428.85","0"],["3428.61","0"],["3428.59","0"],["3428.51","0"],["3428.49","0"],["3428.3","18.2306"],["3428.29","0"],["3428.09","18.2317"],["3427.79","18.2333"],["3427.37","0"],["3427.17","18.2366"],["3427.07","18.2372"],["3426.76","18.2388"],["3392.83","86.6533"],["3392.08","0"],["3391.73","0"],["3293.05","89.2789"],["3260.45","90.1717"],["3195.47","0"],["3164.56","92.9039"],["3133.23","93.8329"],["3070.5","0"],["3010.98","97.6427"],["2981.17","98.6191"],["2979.54","0"],["2951.65","99.6053"],["2922.43","100.6013"],["2921.48","0"],["2893.49","101.6073"],["2807.75","0"]],"asks":[["4107.09","71.5835"],["4066.43","72.2993"],["4023.97","0"],["3986.3","73.7525"],["3946.84","74.49"],["3942.35","0"],["3755.29","78.2896"],["3644.85","80.6618"],["3608.76","81.4684"],["3573.03","82.283"],["3537.66","83.1059"],["3536.51","0"],["3502.63","83.9369"],["3433.52","18.2029"],["3433.41","18.2035"],["3433.4","0"],["3433.31","18.204"],["3433.1","18.2051"],["3432.69","18.2073"],["3432.49","18.2084"],["3432.38","18.2089"],["3432.21","0"],["3432.16","0"],["3432.06","0"],["3431.96","0"],["3431.85","0"],["3431.75","0"],["3431.66","18.2128"],["3431.65","0"],["3431.59","0"],["3431.56","24.8707"],["3431.54","0"],["3431.47","24.5116"],["3431.39","24.1577"],["3431.34","0"],["3431.3","23.809"],["3431.25","0"],["3431.22","23.4652"],["3431.17","0"],["3431.13","46.253"],["3431.08","0"],["3431.07","0"],["3431.04","45.5852"],["3430.96","22.4636"],["3430.87","22.1392"],["3430.86","0"],["3430.58","0"],["3430.54","0"],["3430.5","0"],["3430.48","0"],["3430.46","0"]]},"stream":"ethusdc@orderbook"}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63919.50122693","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63943.71003327","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"360.063166","24hQuoteVolume":"23236878.6902008","openInterest":"17.9197695","price24HAgo":"64928.02","lastTradePrice":"63917.08"}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165852058,"endSequence":165852107,"bids":[["63910.16","1.1885"],["63908.66","0"],["63903.77","1.2599"],["63895.47","0.9782"],["63893.55","0.9782"],["63891.63","0.9782"],["63889.96","0"],["63888.37","0"],["63883.57","0"],["63880.38","0"],["63878.78","0"],["63872.47","0.9785"],["63870.55","0.9785"],["63868.63","0.9786"],["63866.72","0.9786"],["63866.01","0"],["63864.8","0.9786"],["63841.11","0"],["58954.01","0"],["55857.14","0"]],"asks":[["72075.4","0"],["72000","0"],["71754.87","0"],["71700","0"],["71434.35","0"],["71400","0"],["71113.82","0"],["70657.01","0"],["64626.75","4.5492"],["63997.03","0"],["63986.9","0.9768"],["63984.98","0.9768"],["63982.58","0"],["63974.63","0"],["63969.84","0"],["63967.71","0.9771"],["63966.64","0"],["63965.79","0.9771"],["63965.04","0"],["63963.87","0.9771"],["63963.44","0"],["63961.95","0.9771"],["63961.84","0"],["63960.03","0.9772"],["63950.44","0.9773"],["63945.32","1.2963"],["63940.53","1.241"],["63938.93","1.2231"],["63937.33","1.2054"],["63935.73","1.188"],["63934.13","1.1709"],["63932.54","1.0949"]]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445757,"endSequence":176445780,"bids":[["3429.67","0"],["3428.4","0"],["3428.2","0"],["3427.68","0"],["3427.58","0"],["3427.48","0"],["3427.38","0"],["3427.27","0"],["3326.18","0"],["2808.57","0"]],"asks":[["4026.41","0"],["3681.52","0"],["3467.73","0"],["3433.3","0"],["3433","0"],["3432.9","0"],["3432.88","0"],["3432.79","0"],["3432.28","0"],["3432.07","0"],["3431.51","0"],["3431.16","0"],["3430.91","0"],["3430.82","0"]]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445781,"endSequence":176445790,"bids":[["3429.59","0"],["3429.5","0"],["3429.45","0"],["3429.41","0"],["3429.37","0"],["3429.33","0"]],"asks":[["3430.96","13.9694"]]}}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63909.73974023","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63948.86689011","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"360.063166","24hQuoteVolume":"23236878.6902008","openInterest":"17.9668545","price24HAgo":"64928.02","lastTradePrice":"63917.08"}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445791,"endSequence":176445846,"bids":[["3429.25","20.4126"],["3429.17","21.8299"],["3429.08","22.1508"],["3428.99","22.4764"],["3428.91","22.8068"],["3428.82","23.142"],["3428.74","23.4822"],["3428.65","23.8273"],["3428.57","24.1777"],["3428.48","24.533"],["3427.06","18.2372"],["3426.86","0"],["3426.85","18.2383"],["3393.03","0"],["3359.44","0"],["3292.85","0"],["3196.4","0"],["3195.82","91.9953"],["3164.17","92.9152"],["3101.83","94.7828"],["3040.71","96.6878"],["3010.61","97.6547"],["2808.23","0"]],"asks":[["4189.22","70.1801"],["4188.71","0"],["3868.6","75.9965"],["3830.3","76.7565"],["3792.37","77.524"],["3754.83","78.2992"],["3680.84","79.873"],["3608.98","0"],["3608.32","81.4784"],["3607.96","0"],["3573.25","0"],["3433.82","0"],["3433.21","0"],["3432.8","0"],["3432.58","18.2079"],["3432.48","0"],["3432.18","0"],["3432.17","18.2101"],["3431.87","0"],["3431.77","0"],["3431.62","0"],["3431.45","18.2139"],["3431.11","0"],["3431.1","0"],["3431.01","0"],["3430.92","0"],["3430.84","0"],["3430.75","0"],["3430.71","0"],["3430.67","0"],["3430.63","0"],["3430.37","21.8223"],["3430.28","20.4065"]]}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165852108,"endSequence":165852113,"bids":[["63902.76","1.0954"],["63881.98","0"]],"asks":[["64000.87","0"],["63995.11","0"],["63923.53","1.1711"],["63921.93","1.0951"]]}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165852114,"endSequence":165852159,"bids":[["63901.16","1.1715"],["63896.37","1.2239"],["63894.77","1.2419"],["63893.17","1.2601"],["63891.58","1.2787"],["63891.15","0"],["63889.23","0"],["63888.38","1.3165"],["63887.32","0"],["63886.79","1.3359"],["63886.77","0"],["63885.17","0"],["63865.71","0.9786"],["63863.79","0.9786"],["63860.26","0"],["63856.13","0.9788"],["63854.21","0.9788"],["61961.15","0"],["56114.28","0"],["56100","0"],["56049.17","0"],["56000","0"]],"asks":[["71100","0"],["70800","0"],["70793.3","0"],["70500","0"],["68633.91","0"],["65955.92","0"],["64616.03","4.55"],["64010.79","0"],["63998.95","0"],["63993.51","0"],["63985.83","0"],["63976.29","0.9769"],["63974.37","0.977"],["63973.04","0"],["63973.03","0"],["63971.44","0"],["63968.61","0.977"],["63968.24","0"],["63964.78","0.9771"],["63960.24","0"],["63955.18","0.9772"],["63945.59","0.9774"],["63943.67","0.9774"],["63939.83","0.9775"],["63937.92","1.3348"],["63936.32","1.3155"],["63934.72","1.2966"],["63928.33","1.2233"],["63926.73","1.2056"],["63925.13","1.1882"]]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445847,"endSequence":176445850,"bids":[["3429.07","20.4137"],["3428.9","22.152"]],"asks":[["3430.19","21.8234"],["3430.1","20.4076"]]}}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63914.90378032","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63948.86689011","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"359.939966","24hQuoteVolume":"23228879.5581368","openInterest":"17.9668545","price24HAgo":"65005.3","lastTradePrice":"63917.08"}}
    Received: ping
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165852160,"endSequence":165852213,"bids":[["63899.56","1.1887"],["63897.97","1.2062"],["63897.91","0"],["63895.99","0"],["63894.08","0"],["63893.86","0"],["63892.26","0"],["63890.67","0"],["63889.98","1.2975"],["63889.07","0"],["63887.47","0"],["63886.73","0"],["63885.87","0"],["63884.87","0.9783"],["63881.04","0.9784"],["63875.29","0.9785"],["63873.37","0.9785"],["63867.62","0.9786"],["63858.04","0.9787"],["63852.3","0.9788"],["63841.49","0"],["63254.21","0"],["63216.32","4.6507"],["60749.72","4.8395"],["57836.01","0"],["57801.37","5.0864"]],"asks":[["70472.78","0"],["70200","0"],["70152.25","0"],["69318.49","0"],["67902.53","0"],["65262.17","4.5049"],["63991.59","0"],["63989.67","0"],["63987.75","0"],["63983.91","0"],["63980.07","0"],["63978.15","0"],["63976.23","0"],["63970.53","0.977"],["63962.86","0.9771"],["63959.02","0.9772"],["63957.1","0.9772"],["63953.26","0.9773"],["63951.34","0.9773"],["63949.43","0.9773"],["63948.19","0"],["63947.51","0.9774"],["63941.75","0.9775"],["63933.12","1.2778"],["63931.52","1.2594"],["63929.92","1.2412"]]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445851,"endSequence":176445914,"bids":[["3429.28","0"],["3429.25","0"],["3429.24","0"],["3429.19","0"],["3429.17","0"],["3429.16","0"],["3429.11","0"],["3428.83","0"],["3428.81","22.4776"],["3428.73","22.808"],["3428.65","0"],["3428.64","23.1432"],["3428.57","0"],["3428.31","0"],["3428.23","0"],["3428.21","24.8949"],["3428.14","0"],["3428.08","0"],["3428.05","0"],["3427.77","0"],["3427.75","0"],["3427.44","0"],["3427.36","0"],["3426.92","0"],["3426.76","0"],["3426.64","0"],["3426.57","18.2398"],["3426.54","0"],["3358.65","87.5351"],["3292.84","0"],["3227.45","0"],["3010.78","0"],["2951.13","99.6227"],["2921.92","100.6189"],["2892.99","101.6251"],["2864.34","102.6413"],["2807.91","104.7043"]],"asks":[["4065.72","72.312"],["3906.9","0"],["3868.4","76.0005"],["3792.6","0"],["3537.43","0"],["3433.02","18.2056"],["3432.81","18.2066"],["3432.57","0"],["3432.47","0"],["3432.27","0"],["3431.99","18.211"],["3431.58","18.2132"],["3431.44","0"],["3431","0"],["3430.96","0"],["3430.87","24.5159"],["3430.79","24.162"],["3430.74","0"],["3430.7","23.8131"],["3430.65","0"],["3430.62","23.4694"],["3430.53","23.1305"],["3430.44","22.7966"],["3430.36","22.4675"],["3430.27","22.1431"]]}}
    Received: {"stream":"btcusdc@orderbook","data":{"event":"update","beginSequence":165852214,"endSequence":165852219,"bids":[["63910.16","0"],["63907.06","0"],["63905.46","0"],["63903.87","0"],["63903.77","0"],["63902.76","0"],["56114.28","0.003761"],["56100","0.0004"],["56049.17","0.000405"],["56000","0.001581"],["55857.14","0.003761"],["55800","0.0004"]],"asks":[]}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445915,"endSequence":176445925,"bids":[["3429.08","0"],["3429.07","0"],["3429.02","0"],["3428.99","0"],["3428.91","0"],["3428.9","0"],["3428.82","0"],["3428.81","0"],["3428.74","0"],["3428.73","0"],["3428.64","0"]],"asks":[]}}
    Received: {"stream":"btcusdc@market","data":{"fundingRate":"0.0001","nextFundingTime":1721318400000,"markPrice":"63957.19635104","offchainMarkPrice":"63914.23080265","offchainMarkPrice24HAgo":"64984.01218979","indexPrice":"63948.18176244","liquidationThreshold":"0.01","liquidationPriceOff":"0.005","24hVolume":"359.939966","24hQuoteVolume":"23228879.5581368","openInterest":"17.9668545","price24HAgo":"65005.3","lastTradePrice":"63917.08"}}
    Received: {"stream":"ethusdc@orderbook","data":{"event":"update","beginSequence":176445926,"endSequence":176445957,"bids":[["3428.45","20.4174"],["3428.37","21.835"],["3428.28","22.156"],["3428.2","22.4817"],["3428.11","22.8121"],["3428.02","23.1474"],["3427.94","23.4877"],["3427.85","23.8329"],["3427.77","24.1833"],["3427.68","24.5387"],["3427.6","24.8994"],["3427.49","18.2349"],["3427.39","18.2355"],["3427.29","18.236"],["3427.18","18.2365"],["3427.08","18.2371"],["3426.98","18.2376"]],"asks":[["4188.15","70.1981"],["3466.72","84.8064"],["3432.68","0"],["3432.4","18.2088"],["3431.37","18.2143"],["3431.06","18.216"],["3430.96","18.2165"],["3430.79","21.8196"],["3430.75","18.2176"],["3429.91","23.1347"],["3429.74","22.4715"],["3429.65","22.1471"],["3429.57","21.8274"]]}}
    """
